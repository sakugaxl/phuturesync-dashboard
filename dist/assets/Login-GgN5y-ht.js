import{h as w,j as t,F as y,f as j,a as v}from"./index-CluMiMEr.js";import{r as o,f as N}from"./react-vendor-D6gW23l2.js";import"./icon-vendor-D4Km0z8w.js";const L=()=>{const[c,m]=o.useState(""),[i,g]=o.useState(""),[d,s]=o.useState(null),{loginWithGoogle:p,login:h}=w(),r=N();o.useEffect(()=>{window.fbAsyncInit=function(){window.FB.init({appId:"933838518791010",cookie:!0,xfbml:!0,version:"v22.0"})},function(e,a,u){const n=e.getElementsByTagName(a)[0];if(e.getElementById(u))return;const l=e.createElement(a);l.id=u,l.src="https://connect.facebook.net/en_US/sdk.js",n&&n.parentNode&&n.parentNode.insertBefore(l,n)}(document,"script","facebook-jssdk")},[]);const b=async e=>{e.preventDefault(),s(null);try{await h(c,i),r("/settings")}catch{s("Login failed. Please check your credentials.")}},f=async()=>{try{await p(),r("/settings")}catch{s("Google login failed. Please try again.")}},x=async()=>{const e=new y;e.addScope("pages_manage_posts"),e.addScope("pages_read_engagement"),e.addScope("ads_management"),e.addScope("business_management");try{const a=await j(v,e);console.log("Facebook Login Success:",a.user),r("/settings")}catch(a){console.error("Facebook Login Error:",a),s("Facebook login failed. Please try again.")}};return t.jsxs("div",{className:"bg-white shadow-md rounded-lg p-8 max-w-md mx-auto",children:[t.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Log In"}),d&&t.jsx("p",{className:"text-red-500 text-center mb-4",children:d}),t.jsxs("form",{onSubmit:b,children:[t.jsx("input",{type:"email",value:c,onChange:e=>m(e.target.value),placeholder:"Email",required:!0,className:"w-full mb-4 p-3 border rounded-lg"}),t.jsx("input",{type:"password",value:i,onChange:e=>g(e.target.value),placeholder:"Password",required:!0,className:"w-full mb-4 p-3 border rounded-lg"}),t.jsx("button",{type:"submit",className:"btn btn-primary w-full",children:"Log In"})]}),t.jsx("div",{className:"my-4 flex items-center justify-center",children:t.jsx("span",{className:"text-gray-500",children:"or"})}),t.jsx("button",{onClick:f,className:"btn btn-primary w-full bg-red-500 hover:bg-red-600",children:"Log In with Google"}),t.jsx("button",{onClick:x,className:"btn btn-primary w-full bg-blue-600 hover:bg-blue-700 mt-4",children:"Log In with Facebook"}),t.jsxs("p",{className:"mt-4 text-center",children:["Donâ€™t have an account?"," ",t.jsx("a",{href:"/signup",className:"text-blue-500 hover:underline",children:"Sign Up"})]})]})};export{L as default};
